{% extends "admin/adminLayout.twig" %}

{% block main_content %}
    {% if (articles|length > 0) %}
        <div class="admin-list">
            <div class="published">
                {% for article in articles %}
                    {% if article.published %}
                        <article class="post paper">
                            <header class="post-head">
                                <h1 class="post-title"><a href="/admin/editarticle/{{ article.articleId }}">{{ article.title }}</a></h1>

                                <div class="post-meta">
                                    <span class="date">{{ ('@'~article.created|number_format(0,'',''))|date('jS F\\, Y') }}</span>
                                    <span class="date">{{ ('@'~article.published|default(0)|number_format(0,'',''))|date('jS F\\, Y') }}</span>
                                    <span class="date">{{ ('@'~article.lastUpdated|number_format(0, '', ''))|date('jS F\\, Y') }}</span>
                                </div>
                            </header>

                            <div class="post-body">
                                <p>
                                    {{ article.summary|markdown }}
                                </p>
                            </div>
                        </article>
                    {% endif %}
                {% endfor %}
            </div>
            <div class="unpublished">
                {% for article in articles %}
                    {% if not article.published %}
                        <article class="post paper">
                            <header class="post-head">
                                <h1 class="post-title"><a href="/admin/editarticle/{{ article.articleId }}">{{ article.title }}</a></h1>

                                <div class="post-meta">
                                    <span class="date">{{ ('@'~article.created|number_format(0,'',''))|date('jS F\\, Y') }}</span>
                                    <span class="date">{{ ('@'~article.published|default(0)|number_format(0,'',''))|date('jS F\\, Y') }}</span>
                                    <span class="date">{{ ('@'~article.lastUpdated|number_format(0, '', ''))|date('jS F\\, Y') }}</span>
                                </div>
                            </header>

                            <div class="post-body">
                                <p>
                                    {{ article.summary|markdown }}
                                </p>
                            </div>
                        </article>
                    {% endif %}
                {% endfor %}
            </div>
        </div>

    {% else %}
        <div class="notice">
            <h1 class="post-title">No Articles!</h1>
            <p>There are no articles to display!</p>
        </div>
    {% endif %}

{% endblock %}
